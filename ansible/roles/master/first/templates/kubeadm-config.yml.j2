#apiVersion: kubeadm.k8s.io/v1beta2
#kind: InitConfiguration
#bootstrapTokens:
#  - groups:
#      - system:bootstrappers:kubeadm:default-node-token
#    token: abcdef.0123456789abcdef
#    ttl: 24h0m0s
#    usages:
#      - signing
#      - authentication
#localAPIEndpoint:
#  advertiseAddress: 1.2.3.4
#  bindPort: 6443
#nodeRegistration:
#  criSocket: /var/run/dockershim.sock
#  name: hostname.example.com
#  taints:
#  - effect: NoSchedule
#    key: node-role.kubernetes.io/master
#---

apiVersion: kubeadm.k8s.io/v1beta2
kind: ClusterConfiguration
kubernetesVersion: stable
#kubernetesVersion: v1.18.0
#clusterName: kubernetes
#imageRepository: k8s.gcr.io

apiServer:
  certSANs:
    - "{{ load_balancer_dns }}"
  #timeoutForControlPlane: 4m0s

controlPlaneEndpoint: "{{ load_balancer_dns }}"

networking:
  dnsDomain: cluster.local
  podSubnet: "{{ pod_subnet }}"
dns:
  type: CoreDNS

#etcd:
#  local:
#    dataDir: /var/lib/etcd
